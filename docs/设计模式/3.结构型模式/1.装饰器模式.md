---
title: "装饰器模式"
date: 2020-03-26
permalink: "pattern/decorator"
tag:
  - design-pattern
categories:
  - design-pattern
---

装饰者模式: 在不改变原对象的基础上，通过对其进行包装拓展使原对象能满足更为复杂的需求。

## 使用示例

```js
var a = function () {
  console.log(1);
  // 其它代码
};
var _a = a;
a = function () {
  _a();
  console.log(2);
  // 其它代码
};
a();

// 打印 1
// 打印 2
```

## ES7 装饰器

装饰者模式的好用和广泛使用使得 ES7 中直接引入了这个模式的实现。其实它是个语法糖，支持对类和方法的装饰，实际的应用代码类似于：

```js
@decorator
class A {}

// 等同于
class A {}
A = decorator(A) || A;
```

## 和代理模式的对比

代理模式和装饰者模式都保留了原对象或是方法的引用，然后对原对象做处理。区别在于他们两者的目的。

- 代理模式的目的是为了提供一个替代者，当不能直接访问原对象或是不符合需要的时候，为原对象提供一个替代者，在访问真正的原对象之前也可以做一些额外的事情；
- 装饰者模式的目的是为了添加一种行为，为原对象添加一种特性。
