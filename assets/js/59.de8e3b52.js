(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{665:function(t,a,r){"use strict";r.r(a);var n=r(11),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("p",[t._v("点击劫持是指在一个 Web 页面中隐藏了一个透明的 iframe，用外层假页面诱导用户点击，实际上是在隐藏的 frame 上触发了点击事件进行一些用户不知情的操作")]),t._v(" "),r("blockquote",[r("p",[t._v("典型点击劫持攻击流程")])]),t._v(" "),r("ul",[r("li",[t._v("攻击者构建了一个非常有吸引力的网页")]),t._v(" "),r("li",[t._v("将被攻击的页面放置在当前页面的 iframe 中")]),t._v(" "),r("li",[t._v("使用样式将 iframe 叠加到非常有吸引力内容的上方")]),t._v(" "),r("li",[t._v("将 iframe 设置为 100%透明")]),t._v(" "),r("li",[t._v("你被诱导点击了网页内容，你以为你点击的是***，而实际上，你成功被攻击了")])]),t._v(" "),r("blockquote",[r("p",[t._v("点击劫持防御")])]),t._v(" "),r("ol",[r("li",[t._v("frame busting")])]),t._v(" "),r("div",{staticClass:"language-js line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("top"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" window"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  top"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" window"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br"),r("span",{staticClass:"line-number"},[t._v("2")]),r("br"),r("span",{staticClass:"line-number"},[t._v("3")]),r("br")])]),r("p",[t._v("需要注意的是: HTML5 中 iframe 的 sandbox 属性、IE 中 iframe 的 security 属性等，都可以限制 iframe 页面中的 JavaScript 脚本执行，从而可以使得 frame busting 失效")]),t._v(" "),r("ol",{attrs:{start:"2"}},[r("li",[t._v("X-Frame-Options")])]),t._v(" "),r("p",[t._v("X-FRAME-OPTIONS 是微软提出的一个 http 头，专门用来防御利用 iframe 嵌套的点击劫持攻击。并且在 IE8、Firefox3.6、Chrome4 以上的版本均能很好的支持，可以设置为以下值:")]),t._v(" "),r("ul",[r("li",[t._v("DENY: 拒绝任何域加载")]),t._v(" "),r("li",[t._v("SAMEORIGIN: 允许同源域下加载")]),t._v(" "),r("li",[t._v("ALLOW-FROM: 可以定义允许 frame 加载的页面地址")])]),t._v(" "),r("h2",{attrs:{id:"安全扫描工具"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#安全扫描工具"}},[t._v("#")]),t._v(" 安全扫描工具")]),t._v(" "),r("ol",[r("li",[r("a",{attrs:{href:"https://github.com/Arachni/arachni",target:"_blank",rel:"noopener noreferrer"}},[t._v("Arachni"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/mozilla/http-observatory/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Mozilla HTTP Observatory"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/andresriancho/w3af",target:"_blank",rel:"noopener noreferrer"}},[t._v("w3af"),r("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=e.exports}}]);